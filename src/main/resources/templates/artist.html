<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Artist</title>
    <link rel="stylesheet" th:href="@{/CSS/artist_styles.css}">
    <link rel="stylesheet" th:href="@{/CSS/style.css}">
    <!-- <link rel="stylesheet" th:href="@{/CSS/colors.css}">
    <link rel="stylesheet" th:href="@{/CSS/navbar.css}"> -->
</head>

<body>

    <div th:replace="fragments/navbar :: navbar"></div>

    <!-- <div th:each="artist : ${artist}"> -->
    <section class="profile-section">
        <div class="profile-container">
            <div class="profile-info">
                <img src="https://avatars.githubusercontent.com/u/118014773?v=4" alt="User Image" class="profile-img">
                <div class="profile-details">
                    <h2 th:text="${artist.get('first_name') } + ${' '+ artist.get('last_name')}"></h2>
                    <!-- <h2 th:text="${artist.password}">fireheart17</h2> -->
                    <!-- <h2>fireheart17</h2> -->
                    <p class="followers" th:text="${'#Followers: '+artist.get('follower_count')}"></p>
                    <p class="global-rank" th:text="${'Global Rank: '+ artist.get('global_rank')}">Global Rank: #2318</p>
                    <!-- <b><div th:text="${'song name: '+song.get('track_name')}"></div></b> -->
                    <p class="country" th:text="${'Country: '+artist.get('country')}">Country: USA</p>
                    <button class="follow-btn">Follow</button>
                </div>
            </div>
            <div class="profile-nav">
                <ul>
                    <li><a href="#" class="active" onclick="showSection('overview')">Overview</a></li>
                    <li><a href="#" onclick="showSection('songs')">Songs</a></li>
                    <li><a href="#" onclick="showSection('albums')">Albums</a></li>
                </ul>
            </div>
        </div>
    </section>
    <!-- </div> -->

    <section class="about-section" id="overview">
        <h3  th:text="'About '+ ${artist.get('first_name')}"></h3>
        <div class="about-container" th:text="${artist.get('about')}">
        </div>
    </section>

    <section class="hidden" id="songs">
        <!-- <h3>Songs</h3>/ -->
        <div class="song-list-container">
            <!-- <h1>Top 50 Rock Songs</h1> -->
            <ul id="songList">
                <li th:each="track : ${tracks}" class="song">
                    <!-- <a th:href="${'/songs/'+song.id}" class="nlink" > -->
                        <div th:text="${track.get('track_name')}"></div>
                    <!-- </a> -->
                </li>
            </ul>
        </div>
    </section>


    <section class="hidden" id="albums">
        <!-- <h3>Songs</h3>/ -->
        <div class="album-list-container">
            <!-- <h1>Top 50 Rock Songs</h1> -->
            <ul id="albumList">
                <li th:each="album : ${albums}" class="album">
                    <a th:href="${'/albums/'}" class="nlink">
                        <div th:text="${album.get('title')}">hello</div>
                    </a>
                </li>
            </ul>
        </div>
    </section>



    <footer>
        <p>&copy; 2024 EchoBeat</p>
    </footer>

    <script>
        function showSection(section) {
            // Hide all sections
            document.getElementById('overview').classList.add('hidden');
            document.getElementById('songs').classList.add('hidden');
            document.getElementById('albums').classList.add('hidden');

            // Show the selected section
            if (section === 'overview') {
                document.getElementById('overview').classList.remove('hidden');
            } else if (section === 'songs') {
                document.getElementById('songs').classList.remove('hidden');
            } else if (section === 'albums') {
                document.getElementById('albums').classList.remove('hidden');
            }

            // Update the active link
            const links = document.querySelectorAll('.profile-nav ul li a');
            links.forEach(link => {
                if (link.innerText.toLowerCase() === section) {
                    link.classList.add('active');
                } else {
                    link.classList.remove('active');
                }
            });
        }

        // Show overview section by default
        document.addEventListener('DOMContentLoaded', () => {
            showSection('overview');
        });
    </script>
</body>

</html>